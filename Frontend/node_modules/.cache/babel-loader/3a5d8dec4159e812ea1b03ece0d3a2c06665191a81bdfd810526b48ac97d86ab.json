{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{logout}from'../redux/authSlice';import'../styles/Header.css';import logoImage from'../assets/shuttleplay_main_logo.png';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){const{isAuthenticated}=useSelector(state=>state.auth);const dispatch=useDispatch();const navigate=useNavigate();const[dropdownOpen,setDropdownOpen]=useState(false);const dropdownRef=useRef(null);const handleLogout=async()=>{try{await axios.post('/logout',{},{withCredentials:true});localStorage.removeItem('user');dispatch(logout());setDropdownOpen(false);navigate('/main');}catch(error){console.error('로그아웃 실패:',error);}};const toggleDropdown=()=>{setDropdownOpen(prev=>!prev);};useEffect(()=>{function handleClickOutside(event){if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setDropdownOpen(false);}}document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);return/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-left\",children:/*#__PURE__*/_jsx(Link,{to:\"/main\",children:/*#__PURE__*/_jsx(\"img\",{src:logoImage,alt:\"ShuttlePlay Logo\",className:\"logo-image\"})})}),/*#__PURE__*/_jsx(\"nav\",{className:\"header-center\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/pre-matching\",children:\"\\uC0AC\\uC804 \\uB9E4\\uCE6D\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/current-matching\",children:\"\\uD604\\uC7A5 \\uB9E4\\uCE6D\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/competition\",children:\"\\uB300\\uD68C \\uAD00\\uB9AC\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/reservation\",children:\"\\uAD6C\\uC7A5 \\uC608\\uC57D\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/club\",children:\"\\uBAA8\\uC784 \\uAD00\\uB9AC\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/community\",children:\"\\uCEE4\\uBBA4\\uB2C8\\uD2F0\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-right\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-chat-dots\",title:\"\\uCC44\\uD305\"}),/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-bell\",title:\"\\uC54C\\uB9BC\"}),!isAuthenticated?/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"header-login-link\",children:/*#__PURE__*/_jsx(\"button\",{className:\"header-login-btn\",children:\"\\uB85C\\uADF8\\uC778\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",ref:dropdownRef,children:[/*#__PURE__*/_jsx(\"button\",{className:\"profile-btn\",onClick:toggleDropdown,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person-circle\"})}),dropdownOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(Link,{to:\"/mypage\",className:\"dropdown-item\",onClick:()=>setDropdownOpen(false),children:\"\\uB9C8\\uC774\\uD398\\uC774\\uC9C0\"}),/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item logout-item\",onClick:handleLogout,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})]})]})]})]});}export default Header;","map":{"version":3,"names":["React","useState","useRef","useEffect","Link","useNavigate","useSelector","useDispatch","logout","logoImage","axios","jsx","_jsx","jsxs","_jsxs","Header","isAuthenticated","state","auth","dispatch","navigate","dropdownOpen","setDropdownOpen","dropdownRef","handleLogout","post","withCredentials","localStorage","removeItem","error","console","toggleDropdown","prev","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","className","children","to","src","alt","title","ref","onClick"],"sources":["/Users/dayeon/Desktop/shuttleplay/Frontend/src/components/Header.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { logout } from '../redux/authSlice';\nimport '../styles/Header.css';\nimport logoImage from '../assets/shuttleplay_main_logo.png';\nimport axios from 'axios';\n\nfunction Header() {\n  const { isAuthenticated } = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const dropdownRef = useRef(null);\n\n  const handleLogout = async () => {\n    try {\n      await axios.post('/logout', {}, { withCredentials: true });\n      localStorage.removeItem('user');\n      dispatch(logout());\n      setDropdownOpen(false);\n      navigate('/main');\n    } catch (error) {\n      console.error('로그아웃 실패:', error);\n    }\n  };\n\n  const toggleDropdown = () => {\n    setDropdownOpen(prev => !prev);\n  };\n\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setDropdownOpen(false);\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  return (\n    <header className=\"header\">\n      <div className=\"header-left\">\n        <Link to=\"/main\">\n          <img src={logoImage} alt=\"ShuttlePlay Logo\" className=\"logo-image\"/>\n        </Link>\n      </div>\n\n      <nav className=\"header-center\">\n        <ul className=\"nav-menu\">\n          <li><Link to=\"/pre-matching\">사전 매칭</Link></li>\n          <li><Link to=\"/current-matching\">현장 매칭</Link></li>\n          <li><Link to=\"/competition\">대회 관리</Link></li>\n          <li><Link to=\"/reservation\">구장 예약</Link></li>\n          <li><Link to=\"/club\">모임 관리</Link></li>\n          <li><Link to=\"/community\">커뮤니티</Link></li>\n        </ul>\n      </nav>\n\n      <div className=\"header-right\">\n        <i className=\"bi bi-chat-dots\" title=\"채팅\"></i>\n        <i className=\"bi bi-bell\" title=\"알림\"></i>\n\n        {!isAuthenticated ? (\n          <Link to=\"/login\" className=\"header-login-link\">\n            <button className=\"header-login-btn\">로그인</button>\n          </Link>\n        ) : (\n          <div className=\"profile-container\" ref={dropdownRef}>\n            <button className=\"profile-btn\" onClick={toggleDropdown}>\n              <i className=\"bi bi-person-circle\"></i>\n            </button>\n            {dropdownOpen && (\n              <div className=\"dropdown-menu\">\n                <Link to=\"/mypage\" className=\"dropdown-item\" onClick={() => setDropdownOpen(false)}>마이페이지</Link>\n                <button className=\"dropdown-item logout-item\" onClick={handleLogout}>로그아웃</button>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}